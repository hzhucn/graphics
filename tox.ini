#Copyright 2018 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
[tox]
envlist = py{27,36}

[testenv]
deps =
  tf-nightly
  .[test]
whitelist_externals =
  apt-get
  coverage
  pip
  sudo
commands =
  sudo apt-get -y install libopenexr-dev
  pip install OpenEXR
  coverage run -m unittest discover tensorflow_graphics


[flake8]
inline-quotes = double
max-line-length = 88
max-complexity = 10
exclude = .git,
          .tox,
          .pytest_cache,
          bin,
          include,
          lib,
          __pycache__
# Stuff we ignore thanks to black: https://github.com/ambv/black/issues/429
ignore = E111,
         E121,
         E122,
         E123,
         E124,
         E125,
         E126,
         E201,
         E202,
         E203,
         E221,
         E222,
         E225,
         E226,
         E227,
         E231,
         E241,
         E251,
         E261,
         E262,
         E265,
         E271,
         E272,
         E302,
         E303,
         E306,
         E501,
         E502,
         E701,
         E702,
         E703,
         E704,
         W291,
         W292,
         W293,
         W391,
         W503,
         E402  # no top-level module imports